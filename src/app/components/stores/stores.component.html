<div class="grid-container">
  <mat-grid-list cols="2" rowHeight="300px">
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <mat-card class="dashboard-card">
        <mat-card-content class="dashboard-card-content">
          <div class="form-group">
            <mat-google-maps-autocomplete
              (onAutocompleteSelected)="onAutocompleteSelected($event)"
              (onLocationSelected)="onLocationSelected($event)"
            >
            </mat-google-maps-autocomplete>
          </div>
          <div class="form-group">
            <mat-form-field>
              <mat-label>Favorite food</mat-label>
              <mat-select>
                <mat-option *ngFor="let food of foods" [value]="food.value">
                  {{food.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="form-group">
            <label>Geolocate</label>
            <button (click)="geolocate()">Use My Location</button>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1" [rowspan]="1">
      <mat-card class="dashboard-card">
        <mat-card-content>
          <mat-accordion
            class="example-headers-align"
            *ngIf="showStores === true"
          >
            <mat-expansion-panel
              class="panel"
              [expanded]="isFirst"
              *ngFor="
                let m of storeData
                  | async
                  | sortBy: 'asc':'distance'
                  | slice: 0:3;
                let isFirst = first
              "
            >
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <h4>{{ m.label }}.</h4>
                </mat-panel-title>
                <mat-panel-description>
                  <h4>{{ m.title }}</h4>
                  <p>
                    <strong>{{ m.distance }} miles</strong>
                  </p>
                </mat-panel-description>
              </mat-expansion-panel-header>
              <p><strong>Address: </strong>{{ m.address }}, {{ m.title }}</p>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="2" [rowspan]="2">
      <mat-card class="dashboard-card">
        <mat-card-content>
          <agm-map
            id="map"
            [latitude]="currentPlace.lat"
            [longitude]="currentPlace.lng"
            [zoom]="zoom"
          >
            <agm-marker
              *ngFor="let m of markers; let i = index"
              [latitude]="m.lat"
              [longitude]="m.lng"
              [label]="m.label"
            >
              <agm-info-window #window>
                <p>{{ this.m.address }}</p>
                <p>
                  <strong>{{ this.m.title }}</strong>
                </p>
              </agm-info-window>
            </agm-marker>
            <agm-circle
              *ngIf="radius"
              [latitude]="currentPlace.lat"
              [longitude]="currentPlace.lng"
              [radius]="radius"
              [fillColor]="'red'"
            >
            </agm-circle>
          </agm-map>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
